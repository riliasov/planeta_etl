# –ö–∞–∫ –∑–∞—â–∏—Ç–∏—Ç—å—Å—è –æ—Ç –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏—è –ª–∏—Å—Ç–æ–≤

## –ü—Ä–æ–±–ª–µ–º–∞
–ï—Å–ª–∏ –≤—ã –ø–µ—Ä–µ–∏–º–µ–Ω—É–µ—Ç–µ –ª–∏—Å—Ç –≤ Google Sheets, –≤–∞—à `sources.json` –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å, —Ç–∞–∫ –∫–∞–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –ª–∏—Å—Ç–∞.

## ‚úÖ –†–µ—à–µ–Ω–∏–µ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ GID (Sheet ID)

–ö–∞–∂–¥—ã–π –ª–∏—Å—Ç –≤ Google Sheets –∏–º–µ–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (gid), –∫–æ—Ç–æ—Ä—ã–π **–Ω–µ –º–µ–Ω—è–µ—Ç—Å—è** –ø—Ä–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏.

---

## üîç –í–∞—à–∏ GID –ª–∏—Å—Ç–æ–≤

–Ø —É–∂–µ –ø–æ–ª—É—á–∏–ª –≤—Å–µ gid –¥–ª—è –≤–∞—à–∏—Ö —Ç–∞–±–ª–∏—Ü:

### –•—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö - –ü–ª–∞–Ω–µ—Ç–∞
| –õ–∏—Å—Ç | GID | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ |
|------|-----|----------------|
| –ü—Ä–æ–¥–∞–∂–∏_hst | `294381083` | historical_sales |
| –ö–ª–∏–µ–Ω—Ç_hst | `1318679629` | clients_data |
| –†–∞—Å—Ö–æ–¥—ã_hst | `678151176` | historical_expenses |
| –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏_hst | `1195769572` | historical_trainings |

### –¢–∞–±–ª–∏—Ü—ã –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤
| –õ–∏—Å—Ç | GID | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ |
|------|-----|----------------|
| –ü—Ä–æ–¥–∞–∂–∏ | `623132210` | current_sales |
| –¢—Ä–µ–Ω–∏—Ä–æ–≤–∫–∏ | `1856560934` | current_trainings |

### –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ - –ü–ª–∞–Ω–µ—Ç–∞
| –õ–∏—Å—Ç | GID | –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ |
|------|-----|----------------|
| –°–ø—Ä_–ü—Ä–∞–π—Å | `1546502281` | references |

---

## üìù –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å GID

### –®–∞–≥ 1: –ü–æ–ª—É—á–∏—Ç—å GID (—É–∂–µ –≥–æ—Ç–æ–≤–æ!)

–Ø —Å–æ–∑–¥–∞–ª —Å–∫—Ä–∏–ø—Ç `tests/get_sheet_gids.py` - –æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å–µ gid.

```bash
python tests/get_sheet_gids.py
```

### –®–∞–≥ 2: –í—ã–±—Ä–∞—Ç—å —Ñ–æ—Ä–º–∞—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

#### –í–∞—Ä–∏–∞–Ω—Ç A: –ü–æ –Ω–∞–∑–≤–∞–Ω–∏—é (—Ç–µ–∫—É—â–∏–π)
```json
{
    "historical_sales": {
        "spreadsheet_id": "...",
        "sheet_names": ["–ü—Ä–æ–¥–∞–∂–∏_hst"],
        "ranges": {
            "–ü—Ä–æ–¥–∞–∂–∏_hst": "A1:R"
        }
    }
}
```
‚ùå –ú–∏–Ω—É—Å: –ï—Å–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω—É–µ—Ç–µ - –ø–µ—Ä–µ—Å—Ç–∞–Ω–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å

#### –í–∞—Ä–∏–∞–Ω—Ç B: –ü–æ GID (–∑–∞—â–∏—â–µ–Ω–Ω—ã–π) ‚úÖ
```json
{
    "historical_sales": {
        "spreadsheet_id": "...",
        "use_gid": true,
        "sheet_identifiers": ["294381083"],
        "ranges": {
            "294381083": "A1:R"
        },
        "_hint": "–ü—Ä–æ–¥–∞–∂–∏_hst"
    }
}
```
‚úÖ –ü–ª—é—Å: –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ –ª–∏—Å—Ç–∞ –Ω–µ —Å–ª–æ–º–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é!

### –®–∞–≥ 3: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≥–æ—Ç–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä

–Ø —Å–æ–∑–¥–∞–ª —Ñ–∞–π–ª `sources_with_gid.json.example` —Å–æ **–≤—Å–µ–º–∏ –≤–∞—à–∏–º–∏ gid**.

–ü—Ä–æ—Å—Ç–æ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ:
```bash
cp sources_with_gid.json.example secrets/sources.json
```

---

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ (—É–∂–µ —Å–¥–µ–ª–∞–Ω–æ!)

–ú–æ–¥—É–ª—å `src/sheets.py` —Ç–µ–ø–µ—Ä—å –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±–∞ —Ä–µ–∂–∏–º–∞:
- `use_gid: false` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞–∑–≤–∞–Ω–∏–µ –ª–∏—Å—Ç–∞
- `use_gid: true` - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å gid

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è

### –ï—Å–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç–µ –ª–∏—Å—Ç—ã —Ä–µ–¥–∫–æ:
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ–∫—É—â–∏–π –≤–∞—Ä–∏–∞–Ω—Ç (–ø–æ –Ω–∞–∑–≤–∞–Ω–∏—è–º) - –ø—Ä–æ—â–µ.

### –ï—Å–ª–∏ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞–µ—Ç–µ —á–∞—Å—Ç–æ:
–ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ—Å—å –Ω–∞ gid:
1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `sources_with_gid.json.example` ‚Üí `secrets/sources.json`
2. –ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –º–æ–∂–µ—Ç–µ –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤—ã–≤–∞—Ç—å –ª–∏—Å—Ç—ã –∫–∞–∫ —É–≥–æ–¥–Ω–æ
